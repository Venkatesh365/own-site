{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\MY PC\\\\Desktop\\\\REACT APP\\\\myapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Component}from'react';import Cookies from'js-cookie';import{Redirect}from'react-router-dom';import axios from'axios';import{Link}from'react-router-dom';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:''};_this.onSubmitSuccess=function(jwtTkoken){var history=_this.props.history;Cookies.set('jwtToken',jwtTkoken,{expires:30,path:'/'});history.replace('/');};_this.submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var username,password,registerData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();username=_this.state.username;password=_this.state.password;if(username!==\"\"&&password!==\"\"){registerData=JSON.stringify(_this.state);console.log(registerData);axios({method:'POST',url:'https://a-u-t-h-e-n-t-i-c-a-t-i-o-n.herokuapp.com/login',headers:{'Content-Type':'application/json'},data:registerData}).then(function(data){if(data.status===200){_this.onSubmitSuccess(data.data.jwtToken);}});}else{console.log(\"Please fill the Username and Password\");}case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onChangeUsername=function(event){_this.setState({username:event.target.value});};_this.onChangePassword=function(event){_this.setState({password:event.target.value});};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){var jwtToken=Cookies.get('jwtToken');if(jwtToken!==undefined){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://res.cloudinary.com/pevv-ccbp-tech/image/upload/v1651476543/Screenshot_26_ybmbqt.png\",className:\"login-website-logo-mobile-image\",alt:\"website logo\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-login-img.png\",className:\"login-image\",alt:\"website login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:this.submitForm,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://res.cloudinary.com/pevv-ccbp-tech/image/upload/v1651476543/Screenshot_26_ybmbqt.png\",className:\"login-website-logo-desktop-image\",alt:\"website logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"username\",children:\"USERNAME\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"username-input-filed\",value:this.state.username,onBlur:function onBlur(e){if(e.target.value===\"\"){alert(\"Name is required\");}},onChange:this.onChangeUsername})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"password\",children:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"password-input-filed\",value:this.state.password,onBlur:function onBlur(e){if(e.target.value===\"\"){alert(\"Password is required\");}},onChange:this.onChangePassword})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/create an account\",className:\"nav-link\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Create an account\"})})]})]});}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"sources":["C:/Users/MY PC/Desktop/REACT APP/myapp/src/components/LoginForm/index.js"],"names":["Component","Cookies","Redirect","axios","Link","LoginForm","state","username","password","onSubmitSuccess","jwtTkoken","history","props","set","expires","path","replace","submitForm","event","preventDefault","registerData","JSON","stringify","console","log","method","url","headers","data","then","status","jwtToken","onChangeUsername","setState","target","value","onChangePassword","get","undefined","e","alert"],"mappings":"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","sourcesContent":["import { Component } from 'react'\r\nimport Cookies from 'js-cookie'\r\nimport {Redirect} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {Link} from 'react-router-dom'\r\nimport './index.css'\r\n\r\nclass LoginForm extends Component {\r\n  state = {\r\n    username: '',\r\n    password: ''\r\n  }\r\n \r\n  onSubmitSuccess = (jwtTkoken) => {\r\n    const {history} = this.props;\r\n    Cookies.set('jwtToken', jwtTkoken, {\r\n      expires: 30,\r\n      path: '/',\r\n    })\r\n    history.replace('/');\r\n  }\r\n \r\n  submitForm = async event => {\r\n    event.preventDefault();\r\n    const {username} = this.state\r\n    const {password} = this.state\r\n    if(username !== \"\" && password !== \"\"){\r\n      const registerData = JSON.stringify(this.state)\r\n      console.log(registerData)\r\n      axios({\r\n          method: 'POST',\r\n          url: 'https://a-u-t-h-e-n-t-i-c-a-t-i-o-n.herokuapp.com/login',\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n                  },\r\n          data: registerData  \r\n      })     \r\n      .then(data => {\r\n         if(data.status === 200 ){\r\n           this.onSubmitSuccess(data.data.jwtToken)\r\n         } \r\n      }    \r\n      )\r\n    }else{\r\n      console.log(\"Please fill the Username and Password\")\r\n    }\r\n  }\r\n\r\n  onChangeUsername = event => {\r\n    this.setState({username: event.target.value})\r\n  }\r\n\r\n  onChangePassword = event => {\r\n    this.setState({password: event.target.value})\r\n  }\r\n\r\n  render() {\r\n    const jwtToken = Cookies.get('jwtToken')\r\n    if (jwtToken !== undefined) {\r\n      return <Redirect to=\"/\" />\r\n    }\r\n    return (\r\n      <div className=\"login-form-container\">\r\n        <img\r\n          src=\"https://res.cloudinary.com/pevv-ccbp-tech/image/upload/v1651476543/Screenshot_26_ybmbqt.png\"\r\n          className=\"login-website-logo-mobile-image\"\r\n          alt=\"website logo\"\r\n        />\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-login-img.png\"\r\n          className=\"login-image\"\r\n          alt=\"website login\"\r\n        />\r\n        <form className=\"form-container\" onSubmit={this.submitForm}>\r\n        <img\r\n            src=\"https://res.cloudinary.com/pevv-ccbp-tech/image/upload/v1651476543/Screenshot_26_ybmbqt.png\"\r\n            className=\"login-website-logo-desktop-image\"\r\n            alt=\"website logo\"\r\n          />\r\n\r\n          <div className=\"input-container\">\r\n            <label className=\"input-label\" htmlFor=\"username\">USERNAME</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              className=\"username-input-filed\"\r\n              value={this.state.username}\r\n              onBlur={e => { if(e.target.value === \"\"){ alert(\"Name is required\")}} }\r\n              onChange={this.onChangeUsername}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"input-container\">\r\n            <label className=\"input-label\" htmlFor=\"password\">PASSWORD</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              className=\"password-input-filed\"\r\n              value={this.state.password}         \r\n              onBlur={e => { if(e.target.value === \"\"){ alert(\"Password is required\")}} }\r\n              onChange={this.onChangePassword}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"login-button\">\r\n            Login\r\n          </button>\r\n          <Link to=\"/create an account\" className=\"nav-link\">\r\n          <h1>Create an account</h1>\r\n          </Link>\r\n         \r\n        </form>\r\n      \r\n      </div>\r\n      \r\n    )\r\n    \r\n  }\r\n  \r\n}\r\n\r\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}