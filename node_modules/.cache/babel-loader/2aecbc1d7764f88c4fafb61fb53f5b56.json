{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\MY PC\\\\Desktop\\\\REACT APP\\\\myapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Component}from'react';import Cookies from'js-cookie';import axios from'axios';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',showSubmitError:false,errorMsg:''};_this.onChangeUsername=function(event){_this.setState({username:event.target.value});};_this.onChangePassword=function(event){_this.setState({password:event.target.value});};_this.onSubmitSuccess=function(jwtToken){var history=_this.props.history;Cookies.set('jwt_token',jwtToken,{expires:30});history.replace('/');};_this.onSubmitFailure=function(errorMsg){_this.setState({showSubmitError:true,errorMsg:errorMsg});};_this.submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var registerData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();registerData=JSON.stringify(_this.state);axios({method:'POST',url:'https://a-u-t-h-e-n-t-i-c-a-t-i-o-n.herokuapp.com/login',headers:{'Content-Type':'application/json'},data:registerData}).then(function(data){console.log(data);if(data.status===200){_this.onSubmitSuccess();}else{_this.onSubmitFailure(data.error_msg);}}).catch(function(err){console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.renderPasswordField=function(){var password=_this.state.password;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"password\",children:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"password-input-filed\",value:password,onChange:_this.onChangePassword})]});};_this.renderUsernameField=function(){var username=_this.state.username;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"username\",children:\"USERNAME\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"username-input-filed\",value:username,onChange:_this.onChangeUsername})]});};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){var _this$state=this.state,showSubmitError=_this$state.showSubmitError,errorMsg=_this$state.errorMsg;return/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\",className:\"login-website-logo-mobile-image\",alt:\"website logo\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-login-img.png\",className:\"login-image\",alt:\"website login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:this.submitForm,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\",className:\"login-website-logo-desktop-image\",alt:\"website logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:this.renderUsernameField()}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:this.renderPasswordField()}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Login\"}),showSubmitError&&/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"*\",errorMsg]})]})]});}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"sources":["C:/Users/MY PC/Desktop/REACT APP/myapp/src/components/LoginForm/index.js"],"names":["Component","Cookies","axios","LoginForm","state","username","password","showSubmitError","errorMsg","onChangeUsername","event","setState","target","value","onChangePassword","onSubmitSuccess","jwtToken","history","props","set","expires","replace","onSubmitFailure","submitForm","preventDefault","registerData","JSON","stringify","method","url","headers","data","then","console","log","status","error_msg","catch","err","renderPasswordField","renderUsernameField"],"mappings":"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","sourcesContent":["import {Component} from 'react'\r\nimport Cookies from 'js-cookie'\r\nimport axios from 'axios'\r\nimport './index.css'\r\nclass LoginForm extends Component {\r\n  state = {\r\n    username: '',\r\n    password: '',\r\n    showSubmitError: false,\r\n    errorMsg: '',\r\n  }\r\n\r\n  onChangeUsername = event => {\r\n    this.setState({username: event.target.value})\r\n  }\r\n\r\n  onChangePassword = event => {\r\n    this.setState({password: event.target.value})\r\n  }\r\n\r\n  onSubmitSuccess = jwtToken => {\r\n    const {history} = this.props\r\n\r\n    Cookies.set('jwt_token', jwtToken, {expires: 30})\r\n    history.replace('/')\r\n  }\r\n\r\n  onSubmitFailure = errorMsg => {\r\n    this.setState({showSubmitError: true, errorMsg})\r\n  }\r\n\r\n  submitForm = async event => {\r\n    event.preventDefault()\r\n    const registerData = JSON.stringify(this.state);\r\n   \r\n   \r\n    axios({\r\n        method: 'POST',\r\n        url: 'https://a-u-t-h-e-n-t-i-c-a-t-i-o-n.herokuapp.com/login',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n                },\r\n        data: registerData,\r\n       \r\n    })\r\n    \r\n    .then(data =>{\r\n       console.log(data)\r\n       if(data.status === 200 ){\r\n         this.onSubmitSuccess()\r\n       }\r\n       else {\r\n        this.onSubmitFailure(data.error_msg)\r\n      }\r\n      \r\n    }).catch(err =>{\r\n      console.log(err);\r\n    })\r\n    \r\n  }\r\n\r\n\r\n  renderPasswordField = () => {\r\n    const {password} = this.state\r\n    return (\r\n      <>\r\n        <label className=\"input-label\" htmlFor=\"password\">\r\n          PASSWORD\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          className=\"password-input-filed\"\r\n          value={password}\r\n          onChange={this.onChangePassword}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n\r\n  renderUsernameField = () => {\r\n    const {username} = this.state\r\n    return (\r\n      <>\r\n        <label className=\"input-label\" htmlFor=\"username\">\r\n          USERNAME\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          className=\"username-input-filed\"\r\n          value={username}\r\n          onChange={this.onChangeUsername}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {showSubmitError, errorMsg} = this.state\r\n    return (\r\n      <div className=\"login-form-container\">\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\"\r\n          className=\"login-website-logo-mobile-image\"\r\n          alt=\"website logo\"\r\n        />\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-login-img.png\"\r\n          className=\"login-image\"\r\n          alt=\"website login\"\r\n        />\r\n        <form className=\"form-container\" onSubmit={this.submitForm}>\r\n          <img\r\n            src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\"\r\n            className=\"login-website-logo-desktop-image\"\r\n            alt=\"website logo\"\r\n          />\r\n          <div className=\"input-container\">{this.renderUsernameField()}</div>\r\n          <div className=\"input-container\">{this.renderPasswordField()}</div>\r\n          <button type=\"submit\" className=\"login-button\">\r\n            Login\r\n          </button>\r\n          {showSubmitError && <p className=\"error-message\">*{errorMsg}</p>}\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}