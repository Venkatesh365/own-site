{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\MY PC\\\\Desktop\\\\REACT APP\\\\myapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Component}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Upload=/*#__PURE__*/function(_Component){_inherits(Upload,_Component);var _super=_createSuper(Upload);function Upload(){var _this;_classCallCheck(this,Upload);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={title:'',brand:'',price:'',id:'',image_url:'',rating:''};_this.onChangeImageUrl=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var files,data,imgurl,config,res,file;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:files=e.target.files;data=new FormData();data.append('file',files[0]);data.append('upload_preset','Vinay_eswar');data.append('cloud_name','pevv-ccbp-tech');imgurl='https://api.cloudinary.com/v1_1/pevv-ccbp-tech/image/upload';config={method:\"POST\",body:data};_context.next=9;return fetch(imgurl,config);case 9:res=_context.sent;_context.next=12;return res.json();case 12:file=_context.sent;_this.setState({image_url:file.url});console.log(file.url);case 15:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onSubmitSuccess=function(jwtTkoken){var history=_this.props.history;history.replace('/products');};_this.submitForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var title,brand,price,id,image_url,rating,registerData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();title=_this.state.title;brand=_this.state.brand;price=_this.state.price;id=_this.state.id;image_url=_this.state.image_url;rating=_this.state.rating;if(title!==\"\"&&brand!==\"\"&&price!==\"\"&&id!==\"\"&&image_url!==\"\"&&rating!==\"\"){registerData=JSON.stringify(_this.state);console.log(registerData);axios({method:'POST',url:'https://primedeals----and----uploads.herokuapp.com/upload',headers:{'Content-Type':'application/json'},data:registerData}).then(function(data){console.log(data);if(data.status===200){_this.onSubmitSuccess();}if(data.data===\"User already exists\"){alert(\"User already exists\");}});}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.onChangeTitle=function(event){_this.setState({title:event.target.value});};_this.onChangeBrand=function(event){_this.setState({brand:event.target.value});};_this.onChangePrice=function(event){_this.setState({price:event.target.value});};_this.onChangeId=function(event){_this.setState({id:event.target.value});};_this.onChangeRating=function(event){_this.setState({rating:event.target.value});};return _this;}_createClass(Upload,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"login-form-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:this.submitForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"title\",children:\"TITLE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",className:\"username-input-filed\",value:this.state.title,onBlur:function onBlur(e){if(e.target.value===\"\"){alert(\"title is required\");}},onChange:this.onChangeTitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"brand\",children:\"BRAND\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"brand\",className:\"username-input-filed\",value:this.state.brand,onBlur:function onBlur(e){if(e.target.value===\"\"){alert(\"brand is required\");}},onChange:this.onChangeBrand})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"price\",children:\"PRICE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"price\",className:\"password-input-filed\",value:this.state.price,onBlur:function onBlur(e){if(e.target.value===\"\"){alert(\"price is required\");}},onChange:this.onChangePrice})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"id\",children:\"ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"id\",className:\"username-input-filed\",value:this.state.id,onBlur:function onBlur(e){if(e.target.value===\"\"){alert(\"id is required\");}},onChange:this.onChangeId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"imageurl\",style:{display:\"none\"},onChange:this.onChangeImageUrl}),/*#__PURE__*/_jsx(\"button\",{className:\"username-input-filed\",children:/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"imageurl\",children:\"Upload_Image\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"rating\",children:\"RATING\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"rating\",className:\"username-input-filed\",value:this.state.rating,onBlur:function onBlur(e){if(e.target.value===\"\"){alert(\"rating is required\");}},onChange:this.onChangeRating})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Upload\"})]})});}}]);return Upload;}(Component);export default Upload;","map":{"version":3,"sources":["C:/Users/MY PC/Desktop/REACT APP/myapp/src/components/Upload/index.js"],"names":["Component","axios","Upload","state","title","brand","price","id","image_url","rating","onChangeImageUrl","e","files","target","data","FormData","append","imgurl","config","method","body","fetch","res","json","file","setState","url","console","log","onSubmitSuccess","jwtTkoken","history","props","replace","submitForm","event","preventDefault","registerData","JSON","stringify","headers","then","status","alert","onChangeTitle","value","onChangeBrand","onChangePrice","onChangeId","onChangeRating","display"],"mappings":"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","sourcesContent":["import { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nclass Upload extends Component {\r\n  state = {\r\n    title:'',\r\n    brand: '',\r\n    price: '',\r\n    id:'',\r\n    image_url:'',\r\n    rating:''\r\n    \r\n  }\r\n\r\n  onChangeImageUrl = async e => {\r\n    const files = e.target.files\r\n    const data = new FormData()\r\n    data.append('file', files[0])\r\n    data.append('upload_preset', 'Vinay_eswar')\r\n    data.append('cloud_name', 'pevv-ccbp-tech');\r\n    var imgurl = 'https://api.cloudinary.com/v1_1/pevv-ccbp-tech/image/upload';\r\n    const config = {\r\n      method: \"POST\",\r\n      body: data \r\n  };\r\n    const res = await fetch(imgurl, config)\r\n    const file = await res.json()\r\n    this.setState({image_url : file.url})\r\n    console.log(file.url)\r\n  }\r\n\r\n \r\n  onSubmitSuccess = (jwtTkoken) => {\r\n    const {history} = this.props;\r\n    history.replace('/products');\r\n  }\r\n \r\n  submitForm = async event => {\r\n    event.preventDefault();\r\n    const {title} = this.state\r\n    const {brand} = this.state\r\n    const {price} = this.state\r\n    const {id} = this.state\r\n    const {image_url}=this.state\r\n    const {rating}=this.state\r\n    if((title !== \"\") && (brand !== \"\") && (price !== \"\") && (id !== \"\") && (image_url !== \"\") && (rating !== \"\")){\r\n      const registerData = JSON.stringify(this.state)\r\n      console.log(registerData)\r\n      axios({\r\n          method: 'POST',\r\n          url: 'https://primedeals----and----uploads.herokuapp.com/upload',\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n                  },\r\n          data: registerData  \r\n      })     \r\n      .then(data => {\r\n         console.log(data)\r\n         if(data.status === 200 ){\r\n           this.onSubmitSuccess()\r\n         }if(data.data === \"User already exists\"){\r\n             alert(\"User already exists\")\r\n         }\r\n      }    \r\n      )\r\n    }\r\n  }\r\n\r\n  onChangeTitle = event => {\r\n    this.setState({title: event.target.value})\r\n  }\r\n\r\n  onChangeBrand = event => {\r\n    this.setState({brand: event.target.value})\r\n  }\r\n  onChangePrice = event => {\r\n    this.setState({price: event.target.value})\r\n  }\r\n  onChangeId = event => {\r\n    this.setState({id: event.target.value})\r\n  }\r\n  onChangeRating = event => {\r\n    this.setState({rating: event.target.value})\r\n  }\r\n\r\n  render() {\r\n   \r\n    return (\r\n      <div className=\"login-form-container\">\r\n      \r\n        <form className=\"form-container\" onSubmit={this.submitForm}>\r\n         \r\n           <div className=\"input-container\">\r\n            <label className=\"input-label\" htmlFor=\"title\">TITLE</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"title\"\r\n              className=\"username-input-filed\"\r\n              value={this.state.title}\r\n              onBlur={e => { if(e.target.value === \"\"){ alert(\"title is required\")}} }\r\n              onChange={this.onChangeTitle}\r\n            />\r\n          </div>\r\n          <div className=\"input-container\">\r\n            <label className=\"input-label\" htmlFor=\"brand\">BRAND</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"brand\"\r\n              className=\"username-input-filed\"\r\n              value={this.state.brand}\r\n              onBlur={e => { if(e.target.value === \"\"){ alert(\"brand is required\")}} }\r\n              onChange={this.onChangeBrand}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"input-container\">\r\n            <label className=\"input-label\" htmlFor=\"price\">PRICE</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"price\"\r\n              className=\"password-input-filed\"\r\n              value={this.state.price}         \r\n              onBlur={e => { if(e.target.value === \"\"){ alert(\"price is required\")}} }\r\n              onChange={this.onChangePrice}\r\n            />\r\n          </div>\r\n          <div className=\"input-container\">\r\n            <label className=\"input-label\" htmlFor=\"id\">ID</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"id\"\r\n              className=\"username-input-filed\"\r\n              value={this.state.id}\r\n              onBlur={e => { if(e.target.value === \"\"){ alert(\"id is required\")}} }\r\n              onChange={this.onChangeId}\r\n            />\r\n          </div>\r\n          <div className=\"input-container\">           \r\n            <input\r\n              type=\"file\"\r\n              id=\"imageurl\"\r\n              style={{display:\"none\"}}             \r\n              onChange={this.onChangeImageUrl}\r\n            />           \r\n            <button className=\"username-input-filed\">\r\n                <label className=\"input-label\" htmlFor=\"imageurl\">\r\n                    Upload_Image\r\n                </label>\r\n            </button>\r\n            \r\n          </div>\r\n          <div className=\"input-container\">\r\n            <label className=\"input-label\" htmlFor=\"rating\">RATING</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"rating\"\r\n              className=\"username-input-filed\"\r\n              value={this.state.rating}\r\n              onBlur={e => { if(e.target.value === \"\"){ alert(\"rating is required\")}} }\r\n              onChange={this.onChangeRating}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"login-button\">\r\n            Upload\r\n          </button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Upload"]},"metadata":{},"sourceType":"module"}