{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\MY PC\\\\Desktop\\\\REACT APP\\\\myapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Component}from'react';import Cookies from'js-cookie';import{Redirect}from'react-router-dom';import axios from'axios';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:''};_this.onSubmitSuccess=function(jwtTkoken){var history=_this.props.history;Cookies.set('jwtToken',jwtTkoken,{expires:30,path:'/'});history.replace('/');};_this.submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var registerData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();registerData=JSON.stringify(_this.state);axios({method:'POST',url:' https://a-u-t-h-e-n-t-i-c-a-t-i-o-n.herokuapp.com/login',headers:{'Content-Type':'application/json'},data:registerData}).then(function(data){console.log(data.data.jwtToken);if(data.status===200){_this.onSubmitSuccess(data.data.jwtToken);}}).catch(function(err){if(err){alert(\"*username and password required\");}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onChangeUsername=function(event){_this.setState({username:event.target.value});};_this.onChangePassword=function(event){_this.setState({password:event.target.value});};_this.renderPasswordField=function(){var password=_this.state.password;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"password\",children:\"PASSWORD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"password-input-filed\",value:password,onChange:_this.onChangePassword})]});};_this.renderUsernameField=function(){var username=_this.state.username;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",htmlFor:\"username\",children:\"USERNAME\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"username-input-filed\",value:username,onChange:_this.onChangeUsername})]});};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){var jwtToken=Cookies.get('jwtToken');if(jwtToken!==undefined){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\",className:\"login-website-logo-mobile-image\",alt:\"website logo\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-login-img.png\",className:\"login-image\",alt:\"website login\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:this.submitForm,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\",className:\"login-website-logo-desktop-image\",alt:\"website logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:this.renderUsernameField()}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:this.renderPasswordField()}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login-button\",children:\"Login\"})]})]});}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"sources":["C:/Users/MY PC/Desktop/REACT APP/myapp/src/components/LoginForm/index.js"],"names":["Component","Cookies","Redirect","axios","LoginForm","state","username","password","onSubmitSuccess","jwtTkoken","history","props","set","expires","path","replace","submitForm","event","preventDefault","registerData","JSON","stringify","method","url","headers","data","then","console","log","jwtToken","status","catch","err","alert","onChangeUsername","setState","target","value","onChangePassword","renderPasswordField","renderUsernameField","get","undefined"],"mappings":"quBAAA,OAAQA,SAAR,KAAwB,OAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,C,gJAEMC,CAAAA,S,uUACJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,QAAQ,CAAE,EAFJ,C,OASRC,e,CAAkB,SAACC,SAAD,CAAe,CAC/B,GAAOC,CAAAA,OAAP,CAAkB,MAAKC,KAAvB,CAAOD,OAAP,CACAT,OAAO,CAACW,GAAR,CAAY,UAAZ,CAAwBH,SAAxB,CAAmC,CACjCI,OAAO,CAAE,EADwB,CAEjCC,IAAI,CAAE,GAF2B,CAAnC,EAIAJ,OAAO,CAACK,OAAR,CAAgB,GAAhB,EACD,C,OAGDC,U,0FAAa,iBAAMC,KAAN,mIACXA,KAAK,CAACC,cAAN,GACMC,YAFK,CAEUC,IAAI,CAACC,SAAL,CAAe,MAAKhB,KAApB,CAFV,CAKXF,KAAK,CAAC,CACFmB,MAAM,CAAE,MADN,CAEFC,GAAG,CAAE,0DAFH,CAGFC,OAAO,CAAE,CACL,eAAgB,kBADX,CAHP,CAMFC,IAAI,CAAEN,YANJ,CAAD,CAAL,CAUCO,IAVD,CAUM,SAAAD,IAAI,CAAG,CACVE,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACA,IAAL,CAAUI,QAAtB,EACA,GAAGJ,IAAI,CAACK,MAAL,GAAgB,GAAnB,CAAwB,CACtB,MAAKtB,eAAL,CAAqBiB,IAAI,CAACA,IAAL,CAAUI,QAA/B,EACD,CAGH,CAjBD,EAiBGE,KAjBH,CAiBS,SAAAC,GAAG,CAAE,CACZ,GAAGA,GAAH,CAAO,CACLC,KAAK,CAAC,iCAAD,CAAL,CACD,CACF,CArBD,EALW,sD,qEA8BbC,gB,CAAmB,SAAAjB,KAAK,CAAI,CAC1B,MAAKkB,QAAL,CAAc,CAAC7B,QAAQ,CAAEW,KAAK,CAACmB,MAAN,CAAaC,KAAxB,CAAd,EAID,C,OAEDC,gB,CAAmB,SAAArB,KAAK,CAAI,CAC1B,MAAKkB,QAAL,CAAc,CAAC5B,QAAQ,CAAEU,KAAK,CAACmB,MAAN,CAAaC,KAAxB,CAAd,EACD,C,OAEDE,mB,CAAsB,UAAM,CAC1B,GAAOhC,CAAAA,QAAP,CAAmB,MAAKF,KAAxB,CAAOE,QAAP,CAEA,mBACE,wCACE,cAAO,SAAS,CAAC,aAAjB,CAA+B,OAAO,CAAC,UAAvC,sBADF,cAIE,cACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,UAFL,CAGE,SAAS,CAAC,sBAHZ,CAIE,KAAK,CAAEA,QAJT,CAME,QAAQ,CAAE,MAAK+B,gBANjB,EAJF,GADF,CAeD,C,OAEDE,mB,CAAsB,UAAM,CAC1B,GAAOlC,CAAAA,QAAP,CAAmB,MAAKD,KAAxB,CAAOC,QAAP,CACA,mBACE,wCACE,cAAO,SAAS,CAAC,aAAjB,CAA+B,OAAO,CAAC,UAAvC,sBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,UAFL,CAGE,SAAS,CAAC,sBAHZ,CAIE,KAAK,CAAEA,QAJT,CAKE,QAAQ,CAAE,MAAK4B,gBALjB,EAJF,GADF,CAcD,C,2DAED,iBAAS,CACP,GAAML,CAAAA,QAAQ,CAAG5B,OAAO,CAACwC,GAAR,CAAY,UAAZ,CAAjB,CACA,GAAIZ,QAAQ,GAAKa,SAAjB,CAA4B,CAC1B,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CACD,mBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,YACE,GAAG,CAAC,kEADN,CAEE,SAAS,CAAC,iCAFZ,CAGE,GAAG,CAAC,cAHN,EADF,cAME,YACE,GAAG,CAAC,mEADN,CAEE,SAAS,CAAC,aAFZ,CAGE,GAAG,CAAC,eAHN,EANF,cAWE,cAAM,SAAS,CAAC,gBAAhB,CAAiC,QAAQ,CAAE,KAAK1B,UAAhD,wBACE,YACE,GAAG,CAAC,kEADN,CAEE,SAAS,CAAC,kCAFZ,CAGE,GAAG,CAAC,cAHN,EADF,cAME,YAAK,SAAS,CAAC,iBAAf,UAAkC,KAAKwB,mBAAL,EAAlC,EANF,cAOE,YAAK,SAAS,CAAC,iBAAf,UAAkC,KAAKD,mBAAL,EAAlC,EAPF,cAQE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,mBARF,GAXF,GADF,CA0BD,C,uBAlIqBvC,S,EAqIxB,cAAeI,CAAAA,SAAf","sourcesContent":["import {Component} from 'react'\r\nimport Cookies from 'js-cookie'\r\nimport {Redirect} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport './index.css'\r\n\r\nclass LoginForm extends Component {\r\n  state = {\r\n    username: '',\r\n    password: '',\r\n   \r\n   \r\n  }\r\n \r\n  \r\n \r\n  onSubmitSuccess = (jwtTkoken) => {\r\n    const {history} = this.props\r\n    Cookies.set('jwtToken', jwtTkoken, {\r\n      expires: 30,\r\n      path: '/',\r\n    })\r\n    history.replace('/')\r\n  }\r\n \r\n \r\n  submitForm = async event => {\r\n    event.preventDefault()\r\n    const registerData = JSON.stringify(this.state);\r\n   \r\n   \r\n    axios({\r\n        method: 'POST',\r\n        url: ' https://a-u-t-h-e-n-t-i-c-a-t-i-o-n.herokuapp.com/login',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n                },\r\n        data: registerData,\r\n       \r\n    })\r\n    \r\n    .then(data =>{\r\n       console.log(data.data.jwtToken)\r\n       if(data.status === 200 ){\r\n         this.onSubmitSuccess(data.data.jwtToken)\r\n       }\r\n      \r\n      \r\n    }).catch(err=>{\r\n      if(err){\r\n        alert(\"*username and password required\")\r\n      }\r\n    })\r\n  \r\n    \r\n  }\r\n  onChangeUsername = event => {\r\n    this.setState({username: event.target.value})\r\n    \r\n   \r\n    \r\n  }\r\n\r\n  onChangePassword = event => {\r\n    this.setState({password: event.target.value})\r\n  }\r\n\r\n  renderPasswordField = () => {\r\n    const {password} = this.state\r\n  \r\n    return (\r\n      <>\r\n        <label className=\"input-label\" htmlFor=\"password\">\r\n          PASSWORD\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          className=\"password-input-filed\"\r\n          value={password}\r\n          \r\n          onChange={this.onChangePassword}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n\r\n  renderUsernameField = () => {\r\n    const {username} = this.state\r\n    return (\r\n      <>\r\n        <label className=\"input-label\" htmlFor=\"username\">\r\n          USERNAME\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          className=\"username-input-filed\"\r\n          value={username}\r\n          onChange={this.onChangeUsername}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const jwtToken = Cookies.get('jwtToken')\r\n    if (jwtToken !== undefined) {\r\n      return <Redirect to=\"/\" />\r\n    }\r\n    return (\r\n      <div className=\"login-form-container\">\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\"\r\n          className=\"login-website-logo-mobile-image\"\r\n          alt=\"website logo\"\r\n        />\r\n        <img\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-login-img.png\"\r\n          className=\"login-image\"\r\n          alt=\"website login\"\r\n        />\r\n        <form className=\"form-container\" onSubmit={this.submitForm}>\r\n          <img\r\n            src=\"https://assets.ccbp.in/frontend/react-js/nxt-trendz-logo-img.png\"\r\n            className=\"login-website-logo-desktop-image\"\r\n            alt=\"website logo\"\r\n          />\r\n          <div className=\"input-container\">{this.renderUsernameField()}</div>\r\n          <div className=\"input-container\">{this.renderPasswordField()}</div>\r\n          <button type=\"submit\" className=\"login-button\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}