{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MY PC\\\\Desktop\\\\REACT APP\\\\myapp\\\\src\\\\components\\\\AllProductsSection\\\\index.js\";\nimport { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Cookies from 'js-cookie';\nimport ProductCard from '../ProductCard';\nimport ProductsHeader from '../ProductsHeader';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst sBo = [{\n  optionId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/high-price',\n  displayText: 'Price (High-Low)'\n}, {\n  optionId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/low-price',\n  displayText: 'Price (Low-High)'\n}];\nconst sortbyOptions = [{\n  name: 'Clothing',\n  categoryId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/clothing'\n}, {\n  name: 'Electronics',\n  categoryId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/electronics'\n}, {\n  name: 'Appliances',\n  categoryId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/appliances'\n}, {\n  name: 'Grocery',\n  categoryId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/grocery'\n}, {\n  name: 'Toys',\n  categoryId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/toys'\n}];\n\nclass AllProductsSection extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      productsList: [],\n      productsLists: [],\n      isLoading: false,\n      activeOptionId: sortbyOptions[0].categoryId,\n      activeCategoryId: sBo[0].optionId\n    };\n\n    this.getProducts = async () => {\n      this.setState({\n        isLoading: true\n      });\n      const jwtToken = Cookies.get('jwtToken');\n      const {\n        activeOptionId\n      } = this.state;\n      const apiUrl = activeOptionId;\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(apiUrl, options);\n\n      if (response.ok) {\n        const fetchedData = await response.json();\n        const fD = {\n          fetchedData\n        };\n        const updatedData = fD.fetchedData.map(product => ({\n          title: product.title,\n          brand: product.brand,\n          price: product.price,\n          id: product.id,\n          imageUrl: product.image_url,\n          rating: product.rating\n        }));\n        this.setState({\n          productsList: updatedData,\n          isLoading: false\n        });\n      }\n    };\n\n    this.getProduct = async () => {\n      this.setState({\n        isLoading: true\n      });\n      const jwtToken = Cookies.get('jwtToken');\n      const {\n        activeCategoryId\n      } = this.state;\n      const apiUrl = activeCategoryId;\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(apiUrl, options);\n\n      if (response.ok) {\n        const fetchedData = await response.json();\n        const fD = {\n          fetchedData\n        };\n        const updatedData = fD.fetchedData.map(product => ({\n          title: product.title,\n          brand: product.brand,\n          price: product.price,\n          id: product.id,\n          imageUrl: product.image_url,\n          rating: product.rating\n        }));\n        this.setState({\n          productsLists: updatedData,\n          isLoading: false\n        });\n      }\n    };\n\n    this.updateActiveOptionId = activeOptionId => {\n      this.setState({\n        activeOptionId\n      }, this.getProducts);\n    };\n\n    this.updateActiveOptionsId = activeCategoryId => {\n      this.setState({\n        activeCategoryId\n      }, this.getProducts);\n    };\n\n    this.renderProductsList = () => {\n      const {\n        productsList,\n        activeOptionId\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ProductsHeader, {\n          activeOptionId: activeOptionId,\n          sortbyOptions: sortbyOptions,\n          updateActiveOptionId: this.updateActiveOptionId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"products-list\",\n          children: productsList.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n            productData: product\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n\n    this.renderProductsLists = () => {\n      const {\n        productsLists,\n        activeCategoryId\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ProductsHeader, {\n          activeCategoryId: activeCategoryId,\n          sBo: sBo,\n          updateActiveOptionsId: this.updateActiveOptionsId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"products-list\",\n          children: productsLists.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n            productData: product\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n\n    this.renderLoader = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-loader-container\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"Oval\",\n        color: \"blue\",\n        height: \"50\",\n        width: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }, this);\n  }\n\n  componentDidMount() {\n    this.getProducts();\n    this.getProduct();\n  }\n\n  render() {\n    const {\n      isLoading\n    } = this.state;\n    return isLoading ? this.renderLoader() : this.renderProductsList();\n  }\n\n  render() {\n    const {\n      isLoading\n    } = this.state;\n    return isLoading ? this.renderLoader() : this.renderProductsLists();\n  }\n\n}\n\nexport default AllProductsSection;","map":{"version":3,"sources":["C:/Users/MY PC/Desktop/REACT APP/myapp/src/components/AllProductsSection/index.js"],"names":["Component","Loader","Cookies","ProductCard","ProductsHeader","sBo","optionId","displayText","sortbyOptions","name","categoryId","AllProductsSection","state","productsList","productsLists","isLoading","activeOptionId","activeCategoryId","getProducts","setState","jwtToken","get","apiUrl","options","headers","Authorization","method","response","fetch","ok","fetchedData","json","fD","updatedData","map","product","title","brand","price","id","imageUrl","image_url","rating","getProduct","updateActiveOptionId","updateActiveOptionsId","renderProductsList","renderProductsLists","renderLoader","componentDidMount","render"],"mappings":"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","sourcesContent":["import {Component} from 'react'\r\nimport Loader from 'react-loader-spinner'\r\nimport Cookies from 'js-cookie'\r\n\r\nimport ProductCard from '../ProductCard'\r\nimport ProductsHeader from '../ProductsHeader'\r\nimport './index.css'\r\nconst sBo = [\r\n  {\r\n    optionId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/high-price',\r\n    displayText: 'Price (High-Low)',\r\n  },\r\n  {\r\n    optionId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/low-price',\r\n    displayText: 'Price (Low-High)',\r\n  },\r\n]\r\nconst sortbyOptions = [\r\n  {\r\n    name: 'Clothing',\r\n    categoryId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/clothing',\r\n  },\r\n  {\r\n    name: 'Electronics',\r\n    categoryId:'https://e-c-o-m-m-e-r-c-e.herokuapp.com/electronics',\r\n  },\r\n  {\r\n    name: 'Appliances',\r\n    categoryId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/appliances',\r\n  },\r\n  {\r\n    name: 'Grocery',\r\n    categoryId:  'https://e-c-o-m-m-e-r-c-e.herokuapp.com/grocery',\r\n  },\r\n  {\r\n    name: 'Toys',\r\n    categoryId: 'https://e-c-o-m-m-e-r-c-e.herokuapp.com/toys',\r\n  },\r\n]\r\n\r\nclass AllProductsSection extends Component {\r\n  state = {\r\n    productsList: [],\r\n    productsLists: [],\r\n    isLoading: false,\r\n    activeOptionId: sortbyOptions[0].categoryId,\r\n    activeCategoryId:sBo[0].optionId\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getProducts()\r\n    this.getProduct()\r\n  }\r\n\r\n  getProducts = async () => {\r\n    this.setState({\r\n      isLoading: true,\r\n    })\r\n    const jwtToken = Cookies.get('jwtToken')\r\n    const {activeOptionId} = this.state\r\n    \r\n    const apiUrl = activeOptionId\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      method: 'GET',\r\n    }\r\n    const response = await fetch(apiUrl, options)\r\n    if (response.ok) {\r\n      const fetchedData = await response.json()\r\n      const fD = {fetchedData}\r\n      const updatedData = fD.fetchedData.map(product => ({\r\n        title: product.title,\r\n        brand: product.brand,\r\n        price: product.price,\r\n        id: product.id,\r\n        imageUrl: product.image_url,\r\n        rating: product.rating,\r\n      }))\r\n    \r\n\r\n      this.setState({\r\n        productsList: updatedData,\r\n        isLoading: false,\r\n      })\r\n    }\r\n  }\r\n  getProduct = async () => {\r\n    this.setState({\r\n      isLoading: true,\r\n    })\r\n    const jwtToken = Cookies.get('jwtToken')\r\n    const {activeCategoryId} = this.state\r\n    \r\n    const apiUrl = activeCategoryId\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      method: 'GET',\r\n    }\r\n    const response = await fetch(apiUrl, options)\r\n    if (response.ok) {\r\n      const fetchedData = await response.json()\r\n      const fD = {fetchedData}\r\n      const updatedData = fD.fetchedData.map(product => ({\r\n        title: product.title,\r\n        brand: product.brand,\r\n        price: product.price,\r\n        id: product.id,\r\n        imageUrl: product.image_url,\r\n        rating: product.rating,\r\n      }))\r\n    \r\n\r\n      this.setState({\r\n        productsLists: updatedData,\r\n        isLoading: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  updateActiveOptionId = activeOptionId => {\r\n    this.setState({activeOptionId}, this.getProducts)\r\n  }\r\n  updateActiveOptionsId = activeCategoryId => {\r\n    this.setState({activeCategoryId}, this.getProducts)\r\n  }\r\n\r\n  renderProductsList = () => {\r\n    const {productsList, activeOptionId} = this.state\r\n    return (\r\n      <>\r\n        <ProductsHeader\r\n          activeOptionId={activeOptionId}\r\n          sortbyOptions={sortbyOptions}\r\n          updateActiveOptionId={this.updateActiveOptionId}\r\n        />\r\n        <ul className=\"products-list\">\r\n          {productsList.map(product => (\r\n            <ProductCard productData={product} key={product.id} />\r\n          ))}\r\n        </ul>\r\n      </>\r\n    )\r\n  }\r\n  renderProductsLists = () => {\r\n    const {productsLists, activeCategoryId} = this.state\r\n    return (\r\n      <>\r\n        <ProductsHeader\r\n          activeCategoryId={activeCategoryId}\r\n          sBo={sBo}\r\n          updateActiveOptionsId={this.updateActiveOptionsId}\r\n        />\r\n        <ul className=\"products-list\">\r\n          {productsLists.map(product => (\r\n            <ProductCard productData={product} key={product.id} />\r\n          ))}\r\n        </ul>\r\n      </>\r\n    )\r\n  }\r\n\r\n  renderLoader = () => (\r\n    <div className=\"products-loader-container\">\r\n    <Loader type=\"Oval\" color=\"blue\" height=\"50\" width=\"50\" />\r\n    </div>\r\n  )\r\n\r\n  render() {\r\n    const {isLoading} = this.state\r\n    return isLoading ? this.renderLoader() : this.renderProductsList()\r\n  }\r\n  render() {\r\n    const {isLoading} = this.state\r\n    return isLoading ? this.renderLoader() : this.renderProductsLists()\r\n  }\r\n}\r\n\r\nexport default AllProductsSection"]},"metadata":{},"sourceType":"module"}