{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MY PC\\\\Desktop\\\\REACT APP\\\\myapp\\\\src\\\\components\\\\PrimeDealsSection\\\\index.js\";\nimport { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport ProductCard from '../ProductCard';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE'\n};\n\nclass PrimeDealsSection extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      primeDeals: [],\n      apiStatus: apiStatusConstants.initial\n    };\n\n    this.getPrimeDeals = async () => {\n      this.setState({\n        apiStatus: apiStatusConstants.inProgress\n      });\n      const jwtToken = Cookies.get('jwtToken');\n      console.log(jwtToken);\n      const apiUrl = 'https://prime-upload.herokuapp.com/prime-deals';\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(apiUrl, options);\n\n      if (response.ok === true) {\n        const fetchedData = await response.json();\n        const fD = {\n          fetchedData\n        };\n        const o = fd.brand;\n        console.log(o);\n        this.setState({\n          apiStatus: apiStatusConstants.success\n        });\n      }\n\n      if (response.status === 401) {\n        this.setState({\n          apiStatus: apiStatusConstants.failure\n        });\n      }\n    };\n\n    this.renderPrimeDealsList = () => {\n      const {\n        primeDeals\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"primedeals-list-heading\",\n          children: \"Exclusive Prime Deals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"products-list\",\n          children: primeDeals.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n            productData: product\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.renderPrimeDealsFailureView = () => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\",\n      alt: \"Register Prime\",\n      className: \"register-prime-image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this);\n  }\n\n  componentDidMount() {\n    this.getPrimeDeals();\n  }\n\n  render() {\n    const {\n      apiStatus\n    } = this.state;\n\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return this.renderPrimeDealsList();\n\n      case apiStatusConstants.failure:\n        return this.renderPrimeDealsFailureView();\n\n      default:\n        return null;\n    }\n  }\n\n}\n\nexport default PrimeDealsSection;","map":{"version":3,"sources":["C:/Users/MY PC/Desktop/REACT APP/myapp/src/components/PrimeDealsSection/index.js"],"names":["Component","Cookies","ProductCard","apiStatusConstants","initial","success","failure","PrimeDealsSection","state","primeDeals","apiStatus","getPrimeDeals","setState","inProgress","jwtToken","get","console","log","apiUrl","options","headers","Authorization","method","response","fetch","ok","fetchedData","json","fD","o","fd","brand","status","renderPrimeDealsList","map","product","id","renderPrimeDealsFailureView","componentDidMount","render"],"mappings":"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","sourcesContent":["import {Component} from 'react'\r\nimport Cookies from 'js-cookie'\r\n\r\nimport ProductCard from '../ProductCard'\r\nimport './index.css'\r\n\r\nconst apiStatusConstants = {\r\n    initial: 'INITIAL',\r\n  success: 'SUCCESS',\r\n  failure: 'FAILURE',\r\n  \r\n}\r\n\r\nclass PrimeDealsSection extends Component {\r\n  state = {\r\n    primeDeals: [],\r\n    apiStatus: apiStatusConstants.initial,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getPrimeDeals()\r\n  }\r\n\r\n  getPrimeDeals = async () => {\r\n    this.setState({\r\n      apiStatus: apiStatusConstants.inProgress,\r\n    })\r\n\r\n    const jwtToken = Cookies.get('jwtToken')\r\n    console.log(jwtToken)\r\n    const apiUrl = 'https://prime-upload.herokuapp.com/prime-deals'\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      method: 'GET',\r\n    }\r\n    const response = await fetch(apiUrl, options)\r\n    if (response.ok === true) {\r\n      const fetchedData = await response.json()\r\n      const fD = {fetchedData}\r\n     const o = fd.brand\r\n     console.log(o) \r\n     \r\n      this.setState({\r\n       \r\n        apiStatus: apiStatusConstants.success,\r\n      })\r\n    }\r\n    if (response.status === 401) {\r\n      this.setState({\r\n        apiStatus: apiStatusConstants.failure,\r\n      })\r\n    }\r\n  }\r\n\r\n  renderPrimeDealsList = () => {\r\n    const {primeDeals} = this.state\r\n    return (\r\n      <div>\r\n        <h1 className=\"primedeals-list-heading\">Exclusive Prime Deals</h1>\r\n        <ul className=\"products-list\">\r\n          {primeDeals.map(product => (\r\n            <ProductCard productData={product} key={product.id} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderPrimeDealsFailureView = () => (\r\n    <img\r\n      src=\"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\"\r\n      alt=\"Register Prime\"\r\n      className=\"register-prime-image\"\r\n    />\r\n  )\r\n\r\n \r\n\r\n  render() {\r\n    const {apiStatus} = this.state\r\n    switch (apiStatus) {\r\n      case apiStatusConstants.success:\r\n        return this.renderPrimeDealsList()\r\n      case apiStatusConstants.failure:\r\n        return this.renderPrimeDealsFailureView()\r\n      \r\n      default:\r\n        return null\r\n    }\r\n  }\r\n}\r\n\r\nexport default PrimeDealsSection\r\n"]},"metadata":{},"sourceType":"module"}