{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/MY PC/Desktop/REACT APP/myapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\MY PC\\\\Desktop\\\\REACT APP\\\\myapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Component}from'react';import Cookies from'js-cookie';import ProductCard from'../ProductCard';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AllProductsSection=/*#__PURE__*/function(_Component){_inherits(AllProductsSection,_Component);var _super=_createSuper(AllProductsSection);function AllProductsSection(){var _this;_classCallCheck(this,AllProductsSection);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={productsList:[]};_this.getProducts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var apiUrl,jwtToken,options,response,fetchedData,updatedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:apiUrl=\"https://apis.ccbp.in/products\";jwtToken=Cookies.get(\"jwtToken\");console.log(jwtToken);options={headers:{Authorization:\"Bearer \".concat(jwtToken)},method:\"GET\"};_context.next=6;return fetch(apiUrl,options);case 6:response=_context.sent;if(!(response.ok===true)){_context.next=13;break;}_context.next=10;return response.json();case 10:fetchedData=_context.sent;updatedData=fetchedData.products.map(function(product){return{title:product.title,brand:product.brand,price:product.price,id:product.id,imageUrl:product.image_url,rating:product.rating};});_this.setState({productsList:updatedData});case 13:case\"end\":return _context.stop();}}},_callee);}));_this.renderProductsList=function(){var productsList=_this.state.productsList;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"products-list-heading\",children:\"All Products\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"products-list\",children:productsList.map(function(product){return/*#__PURE__*/_jsx(ProductCard,{productData:product},product.id);})})]});};return _this;}_createClass(AllProductsSection,[{key:\"componentDidMount\",value:function componentDidMount(){this.getProducts();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:this.renderProductsList()});}}]);return AllProductsSection;}(Component);export default AllProductsSection;","map":{"version":3,"sources":["C:/Users/MY PC/Desktop/REACT APP/myapp/src/components/AllProductsSection/index.js"],"names":["Component","Cookies","ProductCard","AllProductsSection","state","productsList","getProducts","apiUrl","jwtToken","get","console","log","options","headers","Authorization","method","fetch","response","ok","json","fetchedData","updatedData","products","map","product","title","brand","price","id","imageUrl","image_url","rating","setState","renderProductsList"],"mappings":"quBAAA,OAAQA,SAAR,KAAwB,OAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,MAAO,aAAP,C,gJAEMC,CAAAA,kB,2WACJC,K,CAAQ,CACNC,YAAY,CAAE,EADR,C,OAQRC,W,sEAAc,gMACNC,MADM,CACG,+BADH,CAENC,QAFM,CAEKP,OAAO,CAACQ,GAAR,CAAY,UAAZ,CAFL,CAGZC,OAAO,CAACC,GAAR,CAAYH,QAAZ,EACMI,OAJM,CAII,CACdC,OAAO,CAAE,CACPC,aAAa,kBAAYN,QAAZ,CADN,CADK,CAIdO,MAAM,CAAE,KAJM,CAJJ,uBAUWC,CAAAA,KAAK,CAACT,MAAD,CAASK,OAAT,CAVhB,QAUNK,QAVM,oBAWRA,QAAQ,CAACC,EAAT,GAAgB,IAXR,kDAYgBD,CAAAA,QAAQ,CAACE,IAAT,EAZhB,SAYJC,WAZI,eAaJC,WAbI,CAaUD,WAAW,CAACE,QAAZ,CAAqBC,GAArB,CAAyB,SAACC,OAAD,QAAc,CACzDC,KAAK,CAAED,OAAO,CAACC,KAD0C,CAEzDC,KAAK,CAAEF,OAAO,CAACE,KAF0C,CAGzDC,KAAK,CAAEH,OAAO,CAACG,KAH0C,CAIzDC,EAAE,CAAEJ,OAAO,CAACI,EAJ6C,CAKzDC,QAAQ,CAAEL,OAAO,CAACM,SALuC,CAMzDC,MAAM,CAAEP,OAAO,CAACO,MANyC,CAAd,EAAzB,CAbV,CAqBV,MAAKC,QAAL,CAAc,CACZ3B,YAAY,CAAEgB,WADF,CAAd,EArBU,uD,SA2BdY,kB,CAAqB,UAAM,CACzB,GAAO5B,CAAAA,YAAP,CAAuB,MAAKD,KAA5B,CAAOC,YAAP,CACA,mBACE,oCACE,WAAI,SAAS,CAAC,uBAAd,0BADF,cAEE,WAAI,SAAS,CAAC,eAAd,UACGA,YAAY,CAACkB,GAAb,CAAiB,SAAAC,OAAO,qBACvB,KAAC,WAAD,EAAa,WAAW,CAAEA,OAA1B,EAAwCA,OAAO,CAACI,EAAhD,CADuB,EAAxB,CADH,EAFF,GADF,CAUD,C,+EA3CD,4BAAoB,CAClB,KAAKtB,WAAL,GACD,C,sBA2CD,iBAAS,CACP,mBAAO,yBAAG,KAAK2B,kBAAL,EAAH,EAAP,CACD,C,gCApD8BjC,S,EAuDjC,cAAeG,CAAAA,kBAAf","sourcesContent":["import {Component} from 'react'\r\nimport Cookies from 'js-cookie'\r\nimport ProductCard from '../ProductCard'\r\nimport './index.css'\r\n\r\nclass AllProductsSection extends Component {\r\n  state = {\r\n    productsList: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getProducts()\r\n  }\r\n\r\n  getProducts = async () => {\r\n    const apiUrl = \"https://apis.ccbp.in/products\";\r\n    const jwtToken = Cookies.get(\"jwtToken\");\r\n    console.log(jwtToken)\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      method: \"GET\",\r\n    };\r\n    const response = await fetch(apiUrl, options);\r\n    if (response.ok === true) {\r\n      const fetchedData = await response.json();\r\n      const updatedData = fetchedData.products.map((product) => ({\r\n        title: product.title,\r\n        brand: product.brand,\r\n        price: product.price,\r\n        id: product.id,\r\n        imageUrl: product.image_url,\r\n        rating: product.rating,\r\n      }));\r\n      this.setState({\r\n        productsList: updatedData,\r\n      });\r\n    }\r\n  }\r\n\r\n  renderProductsList = () => {\r\n    const {productsList} = this.state\r\n    return (\r\n      <div>\r\n        <h1 className=\"products-list-heading\">All Products</h1>\r\n        <ul className=\"products-list\">\r\n          {productsList.map(product => (\r\n            <ProductCard productData={product} key={product.id} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return <>{this.renderProductsList()}</>\r\n  }\r\n}\r\n\r\nexport default AllProductsSection\r\n"]},"metadata":{},"sourceType":"module"}